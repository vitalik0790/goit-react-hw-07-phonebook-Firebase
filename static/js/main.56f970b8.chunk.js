(this.webpackJsonplesson=this.webpackJsonplesson||[]).push([[0],{13:function(t,e,n){t.exports={list:"ContactList_list__1mjLt",listItem:"ContactList_listItem__1rcgw",button:"ContactList_button__2c16n",name:"ContactList_name__1UGyJ",enter:"ContactList_enter__1W2Pl",enterActive:"ContactList_enterActive__wiuxj",exit:"ContactList_exit__9oWRp",exitActive:"ContactList_exitActive__oaBLX"}},27:function(t,e,n){t.exports={appear:"PhoneBook_appear__NJiaY",appearActive:"PhoneBook_appearActive__19r5Y",title:"PhoneBook_title__HiD-F",enter:"PhoneBook_enter__3wBjx",enterActive:"PhoneBook_enterActive__3S_F9",exit:"PhoneBook_exit__25iaT",exitActive:"PhoneBook_exitActive__Ec4lj"}},39:function(t,e,n){t.exports={NotificationWrapper:"Notification_NotificationWrapper__9JaST",appear:"Notification_appear__1S0OQ",appearActive:"Notification_appearActive__2oAAO",exit:"Notification_exit__2swMr",exitActive:"Notification_exitActive__1WnvH"}},40:function(t,e,n){t.exports={NotificationWrapper:"Empty_NotificationWrapper__3Z5V0",appear:"Empty_appear__s7AE_",appearActive:"Empty_appearActive__19AaY",exit:"Empty_exit__1Up8s",exitActive:"Empty_exitActive__1z2a_"}},41:function(t,e,n){t.exports={input:"ContactFilter_input__1EtTN"}},55:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var c,a=n(0),o=n(10),r=n.n(o),s=n(7),i=(n(55),n(17)),u=n(18),l=n(20),b=n(19),m=n(8),p=n(25),j=n(14),d=n.n(j),_=n(26),f=n(2),h=Object(f.b)("contacts/addRequest"),O=Object(f.b)("contacts/addSuccess"),v=Object(f.b)("contacts/addError"),x=Object(f.b)("contacts/fetchRequest"),C=Object(f.b)("contacts/fetchSuccess"),A=Object(f.b)("contacts/fetchError"),N=Object(f.b)("contacts/removeRequest"),y=Object(f.b)("contacts/removeSuccess"),E=Object(f.b)("contacts/removeError"),S={onHandleFilter:Object(f.b)("contacts/handleFilter"),addContactRequest:h,addContactSuccess:O,addContactError:v,fetchContactsRequest:x,fetchContactsSuccess:C,fetchContactsError:A,removeContactRequest:N,removeContactSuccess:y,removeContactError:E},w=n(21),F=n.n(w),g={addContact:function(t){var e=t.name,n=t.number;return function(){var t=Object(_.a)(d.a.mark((function t(c){return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(S.addContactRequest()),t.next=3,F.a.post("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts.json"),{name:e,number:n}).then((function(t){c(S.addContactSuccess({id:t.data.name,name:e,number:n}))})).catch((function(t){return c(S.addContactError(t))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(_.a)(d.a.mark((function t(e){var n,c;return d.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(S.fetchContactsRequest()),t.prev=1,t.next=4,F.a.get("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts.json"));case 4:n=t.sent,c=Object.keys(n.data).map((function(t){return Object(p.a)(Object(p.a)({},n.data[t]),{},{id:t})})),e(S.fetchContactsSuccess(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(S.fetchContactsError(t.t0));case 12:case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(t){return function(e){e(S.removeContactRequest()),F.a.delete("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts/").concat(t,".json")).then((function(){return e(S.removeContactSuccess(t))})).catch((function(t){return e(S.removeContactError(t))}))}}},k=n(39),L=n.n(k),R=n(1),B=function(t){var e=t.name;return Object(R.jsx)("div",{className:L.a.NotificationWrapper,children:"".concat(e," is already in Contacts")})},H=n(40),W=n.n(H),q=function(){return Object(R.jsx)("div",{className:W.a.NotificationWrapper,children:"ALL FIELDS MUST BE FILLED!"})},P=n(16),D=function(t){return t.contacts.contactList},I=function(t){return t.contacts.filter},T={getContacts:D,getFilterValue:I,getVisibleContacts:Object(P.a)([D,I],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},J=n(78),M=n(9),V=n.n(M),G=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){var t;Object(i.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",newContact:null,showAlert:!1,showEmpty:!1},t.handleChange=function(e){var n=e.target.name;t.setState(Object(m.a)({},n,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.contacts.some((function(e){return e.name===t.state.name}))?(t.setState({newContact:t.state.name,showAlert:!0}),setTimeout((function(){t.setState({showAlert:!1})}),2500)):""===t.state.name||""===t.state.contact?(t.setState({showEmpty:!0}),setTimeout((function(){t.setState({showEmpty:!1})}),2500)):t.props.addContact({name:t.state.name,number:t.state.number}),t.setState({name:"",number:""})},t}return Object(u.a)(n,[{key:"render",value:function(){var t=this.state,e=t.newContact,n=t.showAlert,c=t.showEmpty;return Object(R.jsxs)("div",{children:[Object(R.jsxs)("form",{onSubmit:this.handleSubmit,className:V.a.form,children:[Object(R.jsxs)("label",{className:V.a.label,children:["Name",Object(R.jsx)("input",{className:V.a.input,name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(R.jsxs)("label",{className:V.a.label,children:["Number",Object(R.jsx)("input",{className:V.a.input,name:"number",type:"tel",value:this.state.number,onChange:this.handleChange})]}),Object(R.jsx)("button",{className:V.a.button,type:"submit",children:"Add contact"})]}),Object(R.jsx)(J.a,{in:n,timeout:250,classNames:V.a,unmountOnExit:!0,children:Object(R.jsx)(B,{name:e})}),Object(R.jsx)(J.a,{in:c,timeout:250,classNames:V.a,unmountOnExit:!0,children:Object(R.jsx)(q,{})})]})}}]),n}(a.Component),U={addContact:g.addContact},Y=Object(s.b)((function(t){return{contacts:T.getContacts(t)}}),U)(G),z=n(79),Q=n(13),X=n.n(Q),Z=Object(s.b)((function(t){return{contacts:T.getVisibleContacts(t)}}),(function(t){return{deleteContact:function(e){t(g.removeContact(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact,c=function(t){var e=t.target.dataset.id;n(e)};return Object(R.jsxs)("div",{children:[Object(R.jsx)("h2",{children:"Contacts"}),Object(R.jsx)(z.a,{component:"ul",className:X.a.list,children:e.map((function(t){return Object(R.jsx)(J.a,{timeout:250,classNames:X.a,children:Object(R.jsxs)("li",{className:X.a.listItem,children:[Object(R.jsx)("span",{className:X.a.name,children:t.name}),": ",Object(R.jsx)("span",{children:t.number}),Object(R.jsx)("button",{className:X.a.button,type:"button","data-id":t.id,onClick:c,children:"Delete"})]})},t.id)}))})]})})),K=n(41),$=n.n(K),tt={onHandleFilter:S.onHandleFilter},et=Object(s.b)((function(t){return{value:T.getFilterValue(t)}}),tt)((function(t){var e=t.value,n=t.onHandleFilter;return Object(R.jsxs)("div",{children:[Object(R.jsx)("h3",{children:"Find contacts by name"}),Object(R.jsx)("input",{className:$.a.input,type:"search",value:e,onChange:function(t){return n(t.target.value)}})]})})),nt=n(27),ct=n.n(nt),at=function(t){Object(l.a)(n,t);var e=Object(b.a)(n);function n(){return Object(i.a)(this,n),e.apply(this,arguments)}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(R.jsxs)("div",{children:[Object(R.jsx)(J.a,{in:!0,appear:!0,timeout:500,classNames:ct.a,children:Object(R.jsx)("h1",{className:ct.a.title,children:"Phonebook"})}),Object(R.jsx)(Y,{}),Object(R.jsx)(et,{}),Object(R.jsx)(Z,{})]})}}]),n}(a.Component),ot={onFetchContacts:g.fetchContacts},rt=Object(s.b)((function(t){return{contacts:T.getContacts(t)}}),ot)(at),st=function(){return Object(R.jsx)(rt,{})},it=n(42),ut=n(6),lt=Object(f.c)([],(c={},Object(m.a)(c,S.fetchContactsSuccess,(function(t,e){return e.payload})),Object(m.a)(c,S.addContactSuccess,(function(t,e){return[].concat(Object(it.a)(t),[e.payload])})),Object(m.a)(c,S.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),bt=Object(f.c)("",Object(m.a)({},S.onHandleFilter,(function(t,e){return e.payload}))),mt=Object(ut.c)({contactList:lt,filter:bt}),pt=Object(f.a)({reducer:{contacts:mt}});n(76);r.a.render(Object(R.jsx)(s.a,{store:pt,children:Object(R.jsx)(st,{})}),document.getElementById("root"))},9:function(t,e,n){t.exports={form:"ContactForm_form__3GWtR",label:"ContactForm_label__1yHxS",input:"ContactForm_input__2z7Q9",button:"ContactForm_button__reGjA",enter:"ContactForm_enter__3HvR7",enterActive:"ContactForm_enterActive__2M3M1",exit:"ContactForm_exit__1bxX4",exitActive:"ContactForm_exitActive__3jElH"}}},[[77,1,2]]]);
//# sourceMappingURL=main.56f970b8.chunk.js.map