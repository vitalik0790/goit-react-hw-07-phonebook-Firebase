(this.webpackJsonplesson=this.webpackJsonplesson||[]).push([[0],{13:function(t,e,n){t.exports={list:"ContactList_list__1mjLt",listItem:"ContactList_listItem__1rcgw",button:"ContactList_button__2c16n",name:"ContactList_name__1UGyJ",enter:"ContactList_enter__1W2Pl",enterActive:"ContactList_enterActive__wiuxj",exit:"ContactList_exit__9oWRp",exitActive:"ContactList_exitActive__oaBLX"}},27:function(t,e,n){t.exports={appear:"PhoneBook_appear__NJiaY",appearActive:"PhoneBook_appearActive__19r5Y",title:"PhoneBook_title__HiD-F",enter:"PhoneBook_enter__3wBjx",enterActive:"PhoneBook_enterActive__3S_F9",exit:"PhoneBook_exit__25iaT",exitActive:"PhoneBook_exitActive__Ec4lj"}},39:function(t,e,n){t.exports={NotificationWrapper:"Notification_NotificationWrapper__9JaST",appear:"Notification_appear__1S0OQ",appearActive:"Notification_appearActive__2oAAO",exit:"Notification_exit__2swMr",exitActive:"Notification_exitActive__1WnvH"}},40:function(t,e,n){t.exports={NotificationWrapper:"Empty_NotificationWrapper__3Z5V0",appear:"Empty_appear__s7AE_",appearActive:"Empty_appearActive__19AaY",exit:"Empty_exit__1Up8s",exitActive:"Empty_exitActive__1z2a_"}},41:function(t,e,n){t.exports={input:"ContactFilter_input__1EtTN"}},56:function(t,e,n){},76:function(t,e,n){},77:function(t,e,n){"use strict";n.r(e);var c,a=n(1),o=n(0),r=n(10),s=n.n(r),i=n(7),u=(n(56),n(17)),l=n(18),b=n(20),m=n(19),p=n(8),j=n(25),d=n(14),_=n.n(d),f=n(26),h=n(2),O=Object(h.b)("contacts/addRequest"),v=Object(h.b)("contacts/addSuccess"),x=Object(h.b)("contacts/addError"),C=Object(h.b)("contacts/fetchRequest"),A=Object(h.b)("contacts/fetchSuccess"),N=Object(h.b)("contacts/fetchError"),y=Object(h.b)("contacts/removeRequest"),E=Object(h.b)("contacts/removeSuccess"),S=Object(h.b)("contacts/removeError"),w={onHandleFilter:Object(h.b)("contacts/handleFilter"),addContactRequest:O,addContactSuccess:v,addContactError:x,fetchContactsRequest:C,fetchContactsSuccess:A,fetchContactsError:N,removeContactRequest:y,removeContactSuccess:E,removeContactError:S},F=n(21),g=n.n(F),k={addContact:function(t){var e=t.name,n=t.number;return function(){var t=Object(f.a)(_.a.mark((function t(c){return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c(w.addContactRequest()),t.next=3,g.a.post("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts.json"),{name:e,number:n}).then((function(t){console.log(t),c(w.addContactSuccess({id:t.data.name,name:e,number:n}))})).catch((function(t){return c(w.addContactError(t))}));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},fetchContacts:function(){return function(){var t=Object(f.a)(_.a.mark((function t(e){var n,c;return _.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e(w.fetchContactsRequest()),t.prev=1,t.next=4,g.a.get("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts.json"));case 4:n=t.sent,c=Object.keys(n.data).map((function(t){return Object(j.a)(Object(j.a)({},n.data[t]),{},{id:t})})),e(w.fetchContactsSuccess(c)),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),e(w.fetchContactsError(t.t0));case 12:case 13:case"end":return t.stop()}}),t,null,[[1,9]])})));return function(e){return t.apply(this,arguments)}}()},removeContact:function(t){return function(e){e(w.removeContactRequest()),g.a.delete("".concat("https://phonebook-7-default-rtdb.firebaseio.com","/contacts/").concat(t,".json")).then((function(){return e(w.removeContactSuccess(t))})).catch((function(t){return e(w.removeContactError(t))}))}}},L=n(39),R=n.n(L),B=function(t){var e=t.name;return Object(a.jsx)("div",{className:R.a.NotificationWrapper,children:"".concat(e," is already in Contacts")})},H=n(40),W=n.n(H),q=function(){return Object(a.jsx)("div",{className:W.a.NotificationWrapper,children:"ALL FIELDS MUST BE FILLED!"})},P=n(16),D=function(t){return t.contacts.contactList},I=function(t){return t.contacts.filter},T={getContacts:D,getFilterValue:I,getVisibleContacts:Object(P.a)([D,I],(function(t,e){return t.filter((function(t){return t.name.toLowerCase().includes(e.toLowerCase())}))}))},J=n(78),M=n(9),V=n.n(M),G=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){var t;Object(u.a)(this,n);for(var c=arguments.length,a=new Array(c),o=0;o<c;o++)a[o]=arguments[o];return(t=e.call.apply(e,[this].concat(a))).state={name:"",number:"",newContact:null,showAlert:!1,showEmpty:!1},t.handleChange=function(e){var n=e.target.name;t.setState(Object(p.a)({},n,e.target.value))},t.handleSubmit=function(e){e.preventDefault(),t.props.contacts.some((function(e){return e.name===t.state.name}))?(t.setState({newContact:t.state.name,showAlert:!0}),setTimeout((function(){t.setState({showAlert:!1})}),2500)):""===t.state.name||""===t.state.contact?(t.setState({showEmpty:!0}),setTimeout((function(){t.setState({showEmpty:!1})}),2500)):t.props.addContact({name:t.state.name,number:t.state.number}),t.setState({name:"",number:""})},t}return Object(l.a)(n,[{key:"render",value:function(){var t=this.state,e=t.newContact,n=t.showAlert,c=t.showEmpty;return Object(a.jsxs)("div",{children:[Object(a.jsxs)("form",{onSubmit:this.handleSubmit,className:V.a.form,children:[Object(a.jsxs)("label",{className:V.a.label,children:["Name",Object(a.jsx)("input",{className:V.a.input,name:"name",type:"text",value:this.state.name,onChange:this.handleChange})]}),Object(a.jsxs)("label",{className:V.a.label,children:["Number",Object(a.jsx)("input",{className:V.a.input,name:"number",type:"tel",value:this.state.number,onChange:this.handleChange})]}),Object(a.jsx)("button",{className:V.a.button,type:"submit",children:"Add contact"})]}),Object(a.jsx)(J.a,{in:n,timeout:250,classNames:V.a,unmountOnExit:!0,children:Object(a.jsx)(B,{name:e})}),Object(a.jsx)(J.a,{in:c,timeout:250,classNames:V.a,unmountOnExit:!0,children:Object(a.jsx)(q,{})})]})}}]),n}(o.Component),U={addContact:k.addContact},Y=Object(i.b)((function(t){return{contacts:T.getContacts(t)}}),U)(G),z=n(79),Q=n(13),X=n.n(Q),Z=Object(i.b)((function(t){return{contacts:T.getVisibleContacts(t)}}),(function(t){return{deleteContact:function(e){t(k.removeContact(e))}}}))((function(t){var e=t.contacts,n=t.deleteContact,c=function(t){var e=t.target.dataset.id;n(e)};return Object(a.jsxs)("div",{children:[Object(a.jsx)("h2",{children:"Contacts"}),Object(a.jsx)(z.a,{component:"ul",className:X.a.list,children:e.map((function(t){return Object(a.jsx)(J.a,{timeout:250,classNames:X.a,children:Object(a.jsxs)("li",{className:X.a.listItem,children:[Object(a.jsx)("span",{className:X.a.name,children:t.name}),": ",Object(a.jsx)("span",{children:t.number}),Object(a.jsx)("button",{className:X.a.button,type:"button","data-id":t.id,onClick:c,children:"Delete"})]})},t.id)}))})]})})),K=n(41),$=n.n(K),tt={onHandleFilter:w.onHandleFilter},et=Object(i.b)((function(t){return{value:T.getFilterValue(t)}}),tt)((function(t){var e=t.value,n=t.onHandleFilter;return Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{children:"Find contacts by name"}),Object(a.jsx)("input",{className:$.a.input,type:"search",value:e,onChange:function(t){return n(t.target.value)}})]})})),nt=n(27),ct=n.n(nt),at=function(t){Object(b.a)(n,t);var e=Object(m.a)(n);function n(){return Object(u.a)(this,n),e.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onFetchContacts()}},{key:"render",value:function(){return Object(a.jsxs)("div",{children:[Object(a.jsx)(J.a,{in:!0,appear:!0,timeout:500,classNames:ct.a,children:Object(a.jsx)("h1",{className:ct.a.title,children:"Phonebook"})}),Object(a.jsx)(Y,{}),Object(a.jsx)(et,{}),Object(a.jsx)(Z,{})]})}}]),n}(o.Component),ot={onFetchContacts:k.fetchContacts},rt=Object(i.b)((function(t){return{contacts:T.getContacts(t)}}),ot)(at),st=function(){return Object(a.jsx)(rt,{})},it=n(42),ut=n(6),lt=Object(h.c)([],(c={},Object(p.a)(c,w.fetchContactsSuccess,(function(t,e){return e.payload})),Object(p.a)(c,w.addContactSuccess,(function(t,e){return[].concat(Object(it.a)(t),[e.payload])})),Object(p.a)(c,w.removeContactSuccess,(function(t,e){return t.filter((function(t){return t.id!==e.payload}))})),c)),bt=Object(h.c)("",Object(p.a)({},w.onHandleFilter,(function(t,e){return e.payload}))),mt=Object(ut.c)({contactList:lt,filter:bt}),pt=Object(h.a)({reducer:{contacts:mt}});n(76);s.a.render(Object(a.jsx)(i.a,{store:pt,children:Object(a.jsx)(st,{})}),document.getElementById("root"))},9:function(t,e,n){t.exports={form:"ContactForm_form__3GWtR",label:"ContactForm_label__1yHxS",input:"ContactForm_input__2z7Q9",button:"ContactForm_button__reGjA",enter:"ContactForm_enter__3HvR7",enterActive:"ContactForm_enterActive__2M3M1",exit:"ContactForm_exit__1bxX4",exitActive:"ContactForm_exitActive__3jElH"}}},[[77,1,2]]]);
//# sourceMappingURL=main.c61b57fb.chunk.js.map